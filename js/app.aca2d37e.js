(function(e){function t(t){for(var n,s,o=t[0],l=t[1],u=t[2],d=0,f=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&f.push(i[s][0]),i[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);c&&c(t);while(f.length)f.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,o=1;o<r.length;o++){var l=r[o];0!==i[l]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},i={app:0},a=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/form_on_vue/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=l;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"034f":function(e,t,r){"use strict";var n=r("85ec"),i=r.n(n);i.a},"22d7":function(e,t,r){"use strict";var n=r("be87"),i=r.n(n);i.a},3614:function(e,t,r){},3953:function(e,t,r){"use strict";var n=r("564a"),i=r.n(n);i.a},"40f3":function(e,t,r){"use strict";var n=r("aa8d"),i=r.n(n);i.a},"564a":function(e,t,r){},"5f12":function(e,t,r){},8274:function(e,t,r){"use strict";var n=r("d277"),i=r.n(n);i.a},"85ec":function(e,t,r){},aa8d:function(e,t,r){},be87:function(e,t,r){},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),i=r("1dce"),a=r.n(i),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Form")],1)},o=[],l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.processForm(t)}}},[e._l(e.fields,(function(t){return[t.options?r("Select",{key:t.name,attrs:{item:t},on:{changedItemData:function(t){return e.changeFieldData(t)}},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"item.value"}}):"boolean"===typeof t.value?r("Checkbox",{key:t.name,attrs:{item:t},on:{changedItemData:function(t){return e.changeFieldData(t)}},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"item.value"}}):r("TextInput",{key:t.name,attrs:{item:t},on:{changedItemData:function(t){return e.changeFieldData(t)}},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"item.value"}})]})),r("Button",{on:{click:function(t){return e.submit(e.e)}}})],2),r("Modal",{attrs:{hidden:e.modalHidden,modalStatus:e.status},on:{hideModal:function(t){return e.changeModalVisibility(t)}}})],1)},u=[],c=(r("4de4"),r("4160"),r("caad"),r("b0c0"),r("b64b"),r("2532"),r("159b"),r("b5ae")),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{staticClass:"input__label",class:{error:e.item.error}},[r("div",{staticClass:"input__placeholder ",class:{modified:e.isModified},attrs:{"data-prop":"placeholder"}},[r("span",[e._v("*")]),e._v(e._s(e.item.title))]),r("div",{staticClass:"input__err-block"},[e._v(e._s(e.item.errorMessage))]),"date"===e.item.type?r("input",{staticClass:"input__input",attrs:{type:"date",name:e.item.name},on:{click:function(t){return e.setModifiedOn(t)},focus:function(t){return e.setModifiedOn(t)},blur:function(t){return e.setModifiedOff(t)},input:function(t){return e.updateValue(t)}}}):r("input",{staticClass:"input__input",attrs:{type:"text",name:e.item.name},on:{click:function(t){return e.setModifiedOn(t)},focus:function(t){return e.setModifiedOn(t)},blur:function(t){return e.setModifiedOff(t)},input:function(t){return e.updateValue(t)}}})])},f=[],m={name:"TextInput",props:{item:{type:Object}},data:function(){return{isModified:"date"===this.item.type}},methods:{setModifiedOn:function(){this.isModified=!0},setModifiedOff:function(){this.isModified=!!this.item.value.length},updateValue:function(e){this.setModifiedOn(),this.$emit("input",e.target.value),this.$emit("changedItemData",{name:e.target.name,val:e.target.value})}}},p=m,h=(r("40f3"),r("2877")),v=Object(h["a"])(p,d,f,!1,null,null,null),b=v.exports,g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"dropdown__label",class:{opened:e.isOpened,error:e.item.error},attrs:{"data-prop":"dropdown","data-element":""},on:{click:e.modifiedOn}},[r("div",{staticClass:"dropdown__placeholder ",class:{modified:e.isModified},attrs:{"data-prop":"placeholder"}},[e.item.required?r("span",[e._v("*")]):e._e(),e._v(e._s(e.item.title))]),r("div",{staticClass:"input__err-block"},[e._v(e._s(e.item.errorMessage))]),r("div",{staticClass:"dropdown__field",attrs:{"data-prop":"field"}},[e._v(e._s(e.value))]),r("input",{attrs:{type:"hidden",name:e.item.name,"data-prop":"select",id:"field_role",value:""}}),r("ul",{staticClass:"dropdown__menu",class:{opened:e.isOpened}},e._l(e.item.options,(function(t){return r("li",{key:t,staticClass:"dropdown__menu-item",attrs:{"data-prop":"option",value:"opt"},on:{click:function(r){return e.choseOption(e.item.name,t)}}},[e._v(e._s(t))])})),0)])},_=[],y={name:"Select",data:function(){return{isModified:!1,isOpened:!1,value:""}},props:{item:{type:Object}},created:function(){window.addEventListener("click",this.modifiedOff)},beforeDestroy:function(){window.removeEventListener("click",this.modifiedOff)},methods:{modifiedOn:function(){this.isModified=!0,this.isOpened=!0},modifiedOff:function(e){this.$el.contains(e.target)||(this.isOpened=!1,this.isModified=this.value.length>0)},choseOption:function(e,t){this.isModified=!0,this.isOpened=!1,this.value=t,this.$emit("input",t),this.$emit("changedItemData",{name:e,val:t})}}},M=y,O=(r("e851"),Object(h["a"])(M,g,_,!1,null,null,null)),x=O.exports,k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{staticClass:"checkbox",class:{error:e.item.error}},[r("input",{staticClass:"checkbox__input",attrs:{id:"field_terms",type:"checkbox",name:"item.name"},domProps:{checked:e.item.value},on:{change:function(t){return e.updateValue(t)}}}),r("div",{staticClass:"checkbox__err"},[e._v(e._s(e.item.errorMessage))]),r("span",{staticClass:"checkbox__text"},[e._v(e._s(e.item.title))]),r("span",{staticClass:"checkbox__checkmark"})])},$=[],j={name:"Checkbox",props:{item:{type:Object}},methods:{updateValue:function(e){console.log(e.target.checked),this.$emit("input",e.target.checked);var t=e.target.name,r=e.target.checked;this.$emit("changeCheckBoxData",{name:t,val:r})}}},C=j,w=(r("f9ea"),Object(h["a"])(C,k,$,!1,null,null,null)),q=w.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"btn btn--round",attrs:{type:"submit"}},[e._v("Отправить")])},E=[],S={name:"Button",methods:{}},P=S,L=(r("8274"),Object(h["a"])(P,D,E,!1,null,null,null)),N=L.exports,I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal",class:{hidden:e.hidden},attrs:{id:"myModal"}},[r("div",{staticClass:"modal-content"},[r("span",{staticClass:"close",on:{click:function(t){return e.closeModal()}}},[e._v("×")]),r("p",[e._v(e._s(e.modalStatus))])])])},F=[],V={data:function(){return{}},props:{hidden:Boolean,modalStatus:String},methods:{closeModal:function(){this.$emit("hideModal",!0)}}},B=V,T=(r("22d7"),Object(h["a"])(B,I,F,!1,null,null,null)),H=T.exports,R={required:"Заполните поле",minLength:"Hедостаточно символов",maxLength:"Не больше чем 11 символов",numeric:"Введено не число",correctPhone:"Длина 11 цифр. Начинается с 7"},G={name:"Form",components:{TextInput:b,Select:x,Checkbox:q,Button:N,Modal:H},data:function(){return{fields:{secondName:{name:"secondName",title:"Фамилия",error:!1,errorMessage:"",value:"",type:"text"},firstName:{name:"firstName",title:"Имя",error:!1,errorMessage:"",value:"",type:"text"},patronymic:{name:"patronymic",title:"Отчество",error:!1,errorMessage:"",value:"",type:"text"},birthdate:{name:"birthdate",title:"День рождения",error:!1,errorMessage:"",value:"",type:"date"},phone:{name:"phone",title:"Номер телефона",error:!1,errorMessage:"",value:"",type:"text"},sex:{name:"sex",title:"Пол",value:""},clientsGroup:{name:"clientsGroup",title:"Группа клиентов",error:!1,errorMessage:"",value:"",options:["VIP","Проблемные","ОМС"]},selectedDoctor:{name:"selectedDoctor",title:"Лечащий врач",error:!1,errorMessage:"",value:"",options:["Иванов","Захаров","Чернышева"]},subscribeSms:{name:"subscribeSms",title:"Не отправлять СМС",value:!1,error:!1,errorMessage:""},index:{name:"index",title:"Индекс",value:"",error:!1,errorMessage:"",type:"text"},country:{name:"country",title:"Страна",value:"",error:!1,errorMessage:"",type:"text"},region:{name:"region",title:"Регион",value:"",error:!1,errorMessage:"",type:"text"},city:{name:"city",title:"Город",error:!1,errorMessage:"",value:"",type:"text"},street:{name:"street",title:"Улица",value:"",error:!1,errorMessage:"",type:"text"},house:{name:"house",title:"Дом",value:"",error:!1,errorMessage:"",type:"text"},doctype:{name:"doctype",title:"Тип документа",error:!1,errorMessage:"",value:"",options:["Паспорт","Свидетельство о рождении","Вод. удостоверение"]},docSerie:{name:"docSerie",title:"Серия",value:"",error:!1,errorMessage:"",type:"text"},docNum:{name:"docNum",title:"Номер",value:"",error:!1,errorMessage:"",type:"text"},docBy:{name:"docBy",title:"Кем выдан",value:"",error:!1,errorMessage:"",type:"text"},docDate:{name:"docDate",title:"Дата выдачи",value:"",error:!1,errorMessage:"",type:"date"}},modalHidden:!0,status:""}},validations:{fields:{secondName:{value:{required:c["required"]}},firstName:{value:{required:c["required"]}},birthdate:{value:{required:c["required"]}},clientsGroup:{value:{required:c["required"]}},docDate:{value:{required:c["required"]}},doctype:{value:{required:c["required"]}},city:{value:{required:c["required"]}},phone:{value:{required:c["required"],minLength:Object(c["minLength"])(11),maxLength:Object(c["maxLength"])(11),numeric:c["numeric"],correctPhone:function(e){return/^7\d{10}/.test(e)}}}}},methods:{changeModalVisibility:function(e){console.log("modal",e),this.modalHidden=!0},setErrorMessage:function(e){var t="";!1===this.$v.fields[e].value.required&&(t=R.required),!1===this.$v.fields[e].value.minLength&&(t=R.minLength),!1===this.$v.fields[e].value.maxLength&&(t=R.maxLength),!1===this.$v.fields[e].value.correctPhone&&(t=R.correctPhone),this.fields[e].errorMessage=t},changeFieldData:function(e){var t=e.name,r=e.val;r&&(this.fields[t].error=!1,this.fields[t].errorMessage=""),this.$v.fields[t]&&(this.$v.fields[t].value.$touch(),this.$v.fields[t].value.$invalid&&(this.fields[t].error=!0,this.setErrorMessage(t)))},processForm:function(){var e=this;this.$v.$touch();var t=Object.keys(this.$v.fields.$model),r=Object.keys(this.$v.fields).filter((function(t){return e.$v.fields[t].$invalid}));t.forEach((function(t){r.includes(t)||(e.fields[t].error=!1,e.fields[t].errorMessage="")})),this.$v.$invalid?(this.submitStatus="ERROR",Object.keys(this.fields).forEach((function(t){r.filter((function(r){return r!==e.fields[t].name||(Object.keys(e.$v.fields).filter((function(r){return r===e.fields[t].name&&e.setErrorMessage(r),!0})),e.fields[t].error=!0,!0)}))})),console.log("ERROR"),this.modalHidden=!1,this.status="Исправьте ошибки"):(Object.keys(this.fields).forEach((function(t){e.fields[t].error=!1,e.fields[t].errorMessage=""})),console.log("PENDING"),this.submitStatus="PENDING",setTimeout((function(){e.submitStatus="OK",console.log("OK"),e.modalHidden=!1,e.status="Ваша заявка принята"}),500))}}},J=G,K=(r("3953"),Object(h["a"])(J,l,u,!1,null,null,null)),A=K.exports,z={name:"App",components:{Form:A}},Q=z,U=(r("034f"),Object(h["a"])(Q,s,o,!1,null,null,null)),W=U.exports;n["a"].config.devtools=!0,n["a"].config.productionTip=!1,n["a"].use(a.a),new n["a"]({render:function(e){return e(W)}}).$mount("#app")},d277:function(e,t,r){},e851:function(e,t,r){"use strict";var n=r("3614"),i=r.n(n);i.a},f9ea:function(e,t,r){"use strict";var n=r("5f12"),i=r.n(n);i.a}});
//# sourceMappingURL=app.aca2d37e.js.map